<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Proforma - AR PC SOLUCIONES</title>
<style>
  body { font-family: Arial, sans-serif; margin: 40px; background-color: #f4faff; color: #000; }
  .container { border: 2px solid #000; padding: 20px; border-radius: 10px; background-color: #ffffff; }
  .header { display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid #000; padding-bottom: 10px; }
  .header img { width: 150px; }
  .empresa-info { text-align: right; }
  h1 { color: #007bff; }
  table { width: 100%; border-collapse: collapse; margin-top: 10px; }
  table, th, td { border: 1px solid #000; }
  th, td { padding: 8px; text-align: left; vertical-align: top; }
  .cliente-info { margin-top: 20px; border: 2px solid #007bff; padding: 15px; border-radius: 10px; background-color: #eef6ff; }
  .cliente-info div { margin-bottom: 6px; }
  .btn-eliminar, .btn-agregar, .btn-imprimir { cursor: pointer; }
  .btn-eliminar { background-color: #dc3545; color: white; border: none; border-radius: 5px; padding: 5px 10px; }
  .btn-eliminar:hover { background-color: #a71d2a; }
  .btn-agregar { background-color: #28a745; color: white; border: none; border-radius: 50%; width: 35px; height: 35px; font-size: 20px; font-weight: bold; margin-top: 10px; }
  .btn-agregar:hover { background-color: #1e7e34; }
  .btn-imprimir { margin-top: 20px; padding: 10px 20px; background-color: #007bff; color: #fff; border: none; border-radius: 8px; }
  .btn-imprimir:hover { background-color: #0056b3; }

  @media print {
    @page { size: landscape; margin: 10mm; }
    .btn-imprimir, .btn-eliminar, .btn-agregar { display: none; }
  }

  [contenteditable] { padding: 2px 4px; border-radius: 3px; white-space: pre-wrap; }
  [contenteditable]:focus { outline: 2px solid #007bff; background-color: #eef6ff; }
</style>
</head>
<body>

<div class="container">
  <!-- ENCABEZADO -->
  <div class="header">
    <img src="ARITSolutions.png" alt="Logo de AR PC SOLUCIONES">
    <div class="empresa-info">
      <strong>AR PC SOLUCIONES</strong><br>
      Direcci√≥n: La 29 entre la I y la J<br>
      Instagram: @AR_PCSOLUCIONES<br>
      Celular: 0959851054<br>
      Correo: ar.i7solutions@gmail.com<br>
      Web: <a href="https://ar-it-solutions.github.io/ARITSOLUTIONS/" target="_blank">Visitar sitio web</a><br>
      Atenci√≥n: Lun a Vier 08h00 - 17h00 | S√°b a Dom 09h00 - 14h00
    </div>
  </div>

  <h1>PROFORMA</h1>
  <p><strong>N.¬∫ de Orden:</strong> <span id="orden-numero"></span></p>
  <p><strong>Fecha:</strong> <span contenteditable="true"></span></p>

  <!-- DATOS DEL CLIENTE -->
  <div class="cliente-info">
    <h3>Datos del Cliente</h3>
    <div><strong>Nombre del Cliente:</strong> <span contenteditable="true"></span></div>
    <div><strong>C√©dula / RUC:</strong> <span contenteditable="true"></span></div>
    <div><strong>Direcci√≥n:</strong> <span contenteditable="true"></span></div>
    <div><strong>Celular:</strong> <span contenteditable="true"></span></div>
    <div><strong>Correo:</strong> <span contenteditable="true"></span></div>
  </div>

  <p><strong>Servicios:</strong><br>
    Diagnosticamos y solucionamos problemas mec√°nicos y t√©cnicos. Reparamos computadoras, impresoras, laptops, electrodom√©sticos y vendemos art√≠culos de inform√°tica.
  </p>

  <!-- TABLA DE DETALLES -->
  <h3>Detalles de la Proforma</h3>
  <table id="tabla-productos">
    <thead>
      <tr>
        <th>#</th>
        <th>Equipo/Dispositivo</th>
        <th>Descripci√≥n</th>
        <th>Cantidad</th>
        <th>Precio Unitario</th>
        <th>Total</th>
        <th>Eliminar</th>
      </tr>
    </thead>
    <tbody id="cuerpo-tabla"></tbody>
  </table>
  <button class="btn-agregar" onclick="agregarFila()">+</button>

  <div style="text-align: right; margin-top: 15px;">
    Total General: <span id="total-general">$0.00</span>
  </div>

  <button class="btn-imprimir" onclick="window.print()">üñ®Ô∏è Imprimir Proforma</button>
</div>

<script>
function calcularTotales() {
  let totalGeneral = 0;
  document.querySelectorAll("#cuerpo-tabla tr").forEach((fila,i)=>{
    fila.querySelector("td:first-child").innerText = i+1;
    const cantidad = parseFloat(fila.querySelector(".cantidad").innerText) || 0;
    const precio = parseFloat(fila.querySelector(".precio").innerText) || 0;
    const total = cantidad * precio;
    fila.querySelector(".total-fila").innerText = "$" + total.toFixed(2);
    totalGeneral += total;
  });
  document.getElementById("total-general").innerText = "$" + totalGeneral.toFixed(2);
}

function eliminarFila(boton) {
  boton.closest("tr").remove();
  calcularTotales();
}

function agregarFila(equipo="", descripcion="", cantidad=1, precio=0.00) {
  const tbody = document.getElementById("cuerpo-tabla");
  const fila = document.createElement("tr");
  fila.innerHTML = `
    <td></td>
    <td class="equipo" contenteditable="true">${equipo}</td>
    <td class="descripcion" contenteditable="true">${descripcion}</td>
    <td class="cantidad" contenteditable="true">${cantidad}</td>
    <td class="precio" contenteditable="true">${precio.toFixed(2)}</td>
    <td class="total-fila">$0.00</td>
    <td><button class="btn-eliminar" onclick="eliminarFila(this)">X</button></td>
  `;
  tbody.appendChild(fila);

  fila.querySelectorAll(".cantidad, .precio").forEach(td=>{
    td.addEventListener("input", calcularTotales);
    td.addEventListener("blur", calcularTotales);
  });

  calcularTotales();
}

// Generar n√∫mero de orden autom√°tico
function generarNumeroOrden() {
  let orden = parseInt(localStorage.getItem("ordenARIT") || "0") + 1;
  localStorage.setItem("ordenARIT", orden);
  return orden.toString().padStart(4,"0");
}

document.addEventListener("DOMContentLoaded", () => {
  // Fecha actual
  const fecha = new Date();
  const opcionesFecha = { year: 'numeric', month: '2-digit', day: '2-digit' };
  document.querySelector("p span[contenteditable]").innerText = fecha.toLocaleDateString('es-EC', opcionesFecha);

  // N√∫mero de orden autom√°tico
  document.getElementById("orden-numero").innerText = generarNumeroOrden();

  // Inicialmente una fila vac√≠a
  agregarFila();
});
</script>

</body>
   <p><strong>GRACIAS POR TU COMPRA! Esperamos que vuelvas Pronto! üòÑ</strong><br>
</html>

